# kos-prog
## Система управления роботом под управлением KasperskyOS через MQTT

Команды передаются по топику `korgs/topic` в формате json\
На данный момент поддерживаются следущие операции:
- `forward` - движение робота впёред
- `back`- движение робота назад
- `left` - поворот робота влево
- `right` - поворот робота вправо
- `stop` - остановка

Все команды, кроме `stop` требуют дополнительный параметр `val` - время движения в секундах.\
Например, движение вперед в течение 1 секунды:
```
{
  "cmd": "forward",
  "val": 1
}
```
Остановка:
```
{
  "cmd": "stop"
}
```

## Сборка
1. Установить KasperskyOS SDK
2. Склонировать репозиторий в удобную директорию: `git clone https://github.com/korgs-hackathon/kos-prog.git`
3. `cd kos-prog`
4. `./cross-build.sh`

## Установка на sd карту
1. Собрать образ KasperskyOS для RaspberryPi 4 по документации KasperskyOS
2. Выполнить после сборки проекта `./flash.sh`
